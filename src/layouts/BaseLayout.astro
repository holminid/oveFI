---
// File: src/layouts/BaseLayout.astro
import '@fontsource/inter/400.css';
import '@fontsource/inter/500.css';
import '@fontsource/inter/700.css';
import '../styles/global.css';

interface Props { title?: string; description?: string; image?: string; lang?: string; noindex?: boolean; }
const { title = 'ove.fi', description = 'Artist site', image, lang = 'en', noindex = false } = Astro.props as Props;
const site = Astro.site ?? new URL('https://ove.fi');
const canonical = new URL(Astro.url?.pathname ?? '/', site);
const ogImageAbs = image ? new URL(image, site).href : undefined;
const base = import.meta.env.BASE_URL;
---
<!DOCTYPE html>
<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={description} />
    <title>{title}</title>
    <link rel="icon" href={`${base}favicon.ico`} />
    <link rel="canonical" href={canonical.href} />
    {noindex && <meta name="robots" content="noindex, nofollow" />}
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ove.fi" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    {ogImageAbs && <meta property="og:image" content={ogImageAbs} />}
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    {ogImageAbs && <meta name="twitter:image" content={ogImageAbs} />}
  </head>
  <body>
    <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-yellow-300 text-black px-3 py-1 rounded">Skip to content</a>
    <header class="container py-6 flex items-center justify-between">
      <a href={base} class="font-medium">ove.fi</a>
      <nav class="space-x-4">
        <a href={`${base}works`}>Works</a>
        <a href={`${base}about`}>About</a>
        <a href={`${base}music-tech`}>Music Tech</a>
        <a href={`${base}contact`}>Contact</a>
      </nav>
    </header>
    <main id="main" class="container pb-16">
      <slot />
    </main>
    <footer class="container py-12 text-sm text-neutral-500">
      Â© {new Date().getFullYear()} ove.fi
    </footer>
  </body>
</html>
